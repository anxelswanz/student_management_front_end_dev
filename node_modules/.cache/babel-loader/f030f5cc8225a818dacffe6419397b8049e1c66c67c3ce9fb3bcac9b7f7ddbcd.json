{"ast":null,"code":"var _jsxFileName = \"D:\\\\Student_manage\\\\student_management_front_end_dev\\\\src\\\\page\\\\absence\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport LeftBar from '../../component/leftbar/leftbar';\nimport { Button } from '@material-ui/core';\nimport './absence.css';\nimport axios from 'axios';\nimport { findEmail, sendEmail } from '../../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SendEmail() {\n  _s();\n  var _emails$currentEmailI2;\n  const [emailContent, setEmailContent] = useState('');\n  const [emailSent, setEmailSent] = useState(false);\n  const [receivedEmailContent, setReceivedEmailContent] = useState('');\n  useEffect(() => {\n    // 获取邮件内容的函数\n    const fetchEmailContent = () => {\n      axios.get(getEmailContent).then(response => {\n        if (response.data.code === 200 && response.data.obj && response.data.obj.emailContent) {\n          setReceivedEmailContent(response.data.obj.emailContent);\n        }\n      }).catch(error => {\n        console.error('获取邮件内容失败:', error);\n      });\n    };\n    fetchEmailContent();\n  }, []);\n  const handleSendEmail = () => {\n    axios.post(sendEmail, {\n      content: emailContent // 将邮件内容作为请求的数据发送\n    }).then(response => {\n      if (response.data.code === 200 && response.data.message === \"SUCCESS\") {\n        setEmailSent(true);\n      } else {\n        console.error('发送邮件失败:', response.data.message);\n      }\n    }).catch(error => {\n      console.error('发送邮件失败:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    id: \"absence\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leftbox\",\n      children: /*#__PURE__*/_jsxDEV(LeftBar, {\n        tabNav: \"Absence\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"maincenter\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topline\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"topMain\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"gFont\",\n            children: \"Module\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fn-clear\",\n            children: emails.map((email, i) =>\n            /*#__PURE__*/\n            // 遍历邮件列表，生成按钮\n            _jsxDEV(Button, {\n              size: \"small\",\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: () => setCurrentEmailIndex(i),\n              children: [\"ID:\", email.moduleId]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"centerbox\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leftbox\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"gFont\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timesline\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                size: \"small\",\n                onClick: () => {\n                  var _emails$currentEmailI;\n                  window.location.href = `mailto:${(_emails$currentEmailI = emails[currentEmailIndex]) === null || _emails$currentEmailI === void 0 ? void 0 : _emails$currentEmailI.email}`;\n                },\n                variant: \"contained\",\n                color: \"secondary\",\n                children: (_emails$currentEmailI2 = emails[currentEmailIndex]) === null || _emails$currentEmailI2 === void 0 ? void 0 : _emails$currentEmailI2.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tipbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"gFont\",\n          children: \"Warning\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"desc\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"It is imperative that you carefully manage your study and rest time to ensure that while you pursue academic achievements, you also take proper care of your health. If it becomes necessary to take a leave due to health or other emergency reasons, we remind you to follow the school's leave procedures and include the appropriate documentation in your leave request email. This helps us process your request more effectively and ensures it complies with school policies.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Furthermore, we emphasize the importance of keeping up with your course progress. Try to anticipate and avoid situations that may lead to absences, ensuring that you do not miss out on important teaching content and learning opportunities. If absences are unavoidable, please communicate promptly with your course instructors to seek remedial measures so as not to affect your academic performance.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Thank you for your understanding and cooperation. We look forward to each student achieving a balance between health and academics and completing their studies successfully.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }, this);\n}\n_s(SendEmail, \"jR0BRutz+w83/YDA8io7uo5xD1c=\");\n_c = SendEmail;\nexport default Absence;\nvar _c;\n$RefreshReg$(_c, \"SendEmail\");","map":{"version":3,"names":["React","useState","useEffect","LeftBar","Button","axios","findEmail","sendEmail","jsxDEV","_jsxDEV","SendEmail","_s","_emails$currentEmailI2","emailContent","setEmailContent","emailSent","setEmailSent","receivedEmailContent","setReceivedEmailContent","fetchEmailContent","get","getEmailContent","then","response","data","code","obj","catch","error","console","handleSendEmail","post","content","message","className","id","children","tabNav","fileName","_jsxFileName","lineNumber","columnNumber","emails","map","email","i","size","variant","color","onClick","setCurrentEmailIndex","moduleId","_emails$currentEmailI","window","location","href","currentEmailIndex","_c","Absence","$RefreshReg$"],"sources":["D:/Student_manage/student_management_front_end_dev/src/page/absence/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport LeftBar from '../../component/leftbar/leftbar';\r\nimport { Button } from '@material-ui/core';\r\nimport './absence.css';\r\nimport axios from 'axios';\r\nimport { findEmail, sendEmail } from '../../api/api';\r\n\r\nfunction SendEmail() {\r\n  const [emailContent, setEmailContent] = useState('');\r\n  const [emailSent, setEmailSent] = useState(false);\r\n  const [receivedEmailContent, setReceivedEmailContent] = useState('');\r\n\r\n  useEffect(() => {\r\n    // 获取邮件内容的函数\r\n    const fetchEmailContent = () => {\r\n      axios.get(getEmailContent)\r\n        .then(response => {\r\n          if (response.data.code === 200 && response.data.obj && response.data.obj.emailContent) {\r\n            setReceivedEmailContent(response.data.obj.emailContent);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('获取邮件内容失败:', error);\r\n        });\r\n    };\r\n\r\n    fetchEmailContent();\r\n  }, []);\r\n\r\n  const handleSendEmail = () => {\r\n    axios.post(sendEmail, {\r\n      content: emailContent // 将邮件内容作为请求的数据发送\r\n    })\r\n    .then(response => {\r\n      if (response.data.code === 200 && response.data.message === \"SUCCESS\") {\r\n        setEmailSent(true);\r\n      } else {\r\n        console.error('发送邮件失败:', response.data.message);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('发送邮件失败:', error);\r\n    });\r\n  };\r\n\r\n  return (\r\n      <div className='container' id='absence'>\r\n        <div className='leftbox'>\r\n          <LeftBar tabNav=\"Absence\" />\r\n        </div>\r\n        <div className='maincenter'>\r\n          <div className='topline'>\r\n            <div className='topMain'>\r\n              <h2 className='gFont'>Module</h2>\r\n              <div className='fn-clear'>\r\n              {emails.map((email, i) => (\r\n                  // 遍历邮件列表，生成按钮\r\n                    <Button\r\n                        key={i}\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => setCurrentEmailIndex(i)}\r\n                    >\r\n                      ID:{email.moduleId}\r\n                    </Button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='centerbox'>\r\n            <div className='btn-group'>\r\n              <div className='leftbox'>\r\n                <h2 className='gFont'>Email</h2>\r\n                <p className='timesline'>\r\n                  {/* 显示当前选中的邮件，并添加点击事件跳转到邮件应用程序 */}\r\n                  <Button\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        window.location.href = `mailto:${emails[currentEmailIndex]?.email}`;\r\n                      }}\r\n                      variant=\"contained\"\r\n                      color=\"secondary\"\r\n                  >\r\n                    {emails[currentEmailIndex]?.email}\r\n                  </Button>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='tipbox'>\r\n            <h2 className='gFont'>Warning</h2>\r\n            <div className='desc'>\r\n                <p>It is imperative that you carefully manage your study and rest time to ensure that while you pursue academic achievements, you also take proper care of your health. If it becomes necessary to take a leave due to health or other emergency reasons, we remind you to follow the school's leave procedures and include the appropriate documentation in your leave request email. This helps us process your request more effectively and ensures it complies with school policies.</p>\r\n                <p>Furthermore, we emphasize the importance of keeping up with your course progress. Try to anticipate and avoid situations that may lead to absences, ensuring that you do not miss out on important teaching content and learning opportunities. If absences are unavoidable, please communicate promptly with your course instructors to seek remedial measures so as not to affect your academic performance.</p>\r\n                <p>Thank you for your understanding and cooperation. We look forward to each student achieving a balance between health and academics and completing their studies successfully.</p>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Absence;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}